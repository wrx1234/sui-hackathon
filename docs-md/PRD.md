# 📋 PRD — Sui DeFi Jarvis

## 一句话描述
一个住在你电脑上的 AI 交易员，自动在 Sui 链上做 DeFi 赚钱，目标是赚的比运行成本多。

## 用户故事

### 场景 1：查看资产
> 你打开 Telegram，给 @sui_kol_bot 发消息：
> "我的钱包里有多少钱？"
> 
> Bot 回复：
> 💰 资产总览
> - SUI: 1,234.56 ($1,851)
> - CETUS: 5,000 ($250)
> - USDC: 500
> - LP 仓位: SUI/USDC $800 (APR 12.3%)
> - 总价值: $3,401
> - 今日盈亏: +$23.5 (+0.7%)

### 场景 2：手动交易
> 你说："帮我把 100 SUI 换成 USDC"
> 
> Bot 回复：
> 🔄 Swap 预览
> - 卖出: 100 SUI
> - 获得: ~$150.2 USDC
> - 路径: SUI → USDC (Cetus, 滑点 0.1%)
> - 手续费: ~$0.01
> [确认] [取消]

### 场景 3：自动策略
> 你说："开启自动交易，每次最多用 10 SUI"
>
> Bot 回复：
> 🤖 自动策略已启动
> - 模式: 价格波动套利
> - 单笔上限: 10 SUI
> - 日上限: 50 SUI
> - 风控: 单笔亏损 >2% 自动停止
>
> 之后 Agent 自己监控市场，发现机会就交易，每笔都给你发通知：
> ✅ 自动交易 #3
> - 买入 CETUS @$0.048 → 卖出 @$0.052
> - 利润: +0.8 SUI ($1.2)

### 场景 4：查看 Agent 日志
> 你说："你今天都干了什么？"
>
> Bot 发送 Walrus 链接，所有操作记录都在链上：
> 📝 今日操作日志 (Walrus)
> 09:15 - 分析市场：SUI 短期看涨
> 09:16 - 执行 swap: 50 USDC → 33.2 SUI
> 11:30 - 添加 LP: SUI/USDC $200
> 14:22 - 移除 LP: 赚取手续费 $0.45
> [查看完整日志 →]

## 核心功能

### P0（必须有，MVP）
| 功能 | 描述 | 对应赞助商 |
|------|------|-----------|
| 钱包管理 | 创建/导入 Sui 钱包，查余额 | Sui SDK |
| Token Swap | 通过 Cetus 最优路径兑换 | **Cetus** |
| TG Bot 交互 | 自然语言下指令 + 按钮操作 | **OpenClaw** |
| 操作日志 | 每笔操作写入 Walrus | **Walrus** |

### P1（应该有，加分）
| 功能 | 描述 | 对应赞助商 |
|------|------|-----------|
| 自动策略 | AI 分析市场 → 自动交易 | **OpenClaw** AI |
| 风险管理 | 止损/限额/异常检测 | — |
| 密钥加密 | 用 Seal 保护私钥 | **Seal** |
| 社交情报 | 从 Moltbook 获取 alpha | **Moltbook** |

### P2（锦上添花）
| 功能 | 描述 |
|------|------|
| LP 管理 | 自动添加/移除流动性 |
| Web Dashboard | 资产/交易/策略的网页面板 |
| 收益报告 | 自动生成日报/周报 |
| 多链监控 | 未来扩展到其他链 |

## 它和 Polymarket 机器人的区别

| | Polymarket Bot（已有） | Sui DeFi Jarvis（新项目） |
|---|---|---|
| 链 | Polygon | **Sui** |
| 交易类型 | 预测市场二元期权 | **DEX Swap + LP + 收益** |
| 策略 | BTC 涨跌判断 | **AI 多策略（套利/做市/趋势）** |
| 透明度 | 私有日志 | **Walrus 链上公开日志** |
| 安全 | 简单密码 | **Seal 加密 + 限额 + 风控** |
| 交互 | TG 群通知 | **TG Bot 自然语言对话** |

简单说：**Polymarket Bot 是我们的原型经验，Sui DeFi Jarvis 是它的进化版**。

## 技术实现方式

```
你 (Telegram) 
  → @sui_kol_bot 收到消息
    → AI 理解你的意图
      → 调用对应模块：
        - 查余额 → Sui SDK 查链上数据
        - Swap → Cetus Aggregator 执行
        - 自动策略 → 启动后台监控循环
      → 每步操作写入 Walrus
    → 返回结果给你
```

## 当前进度

| 阶段 | 状态 | 内容 |
|------|------|------|
| Phase 0: 调研 | ✅ 完成 | RESEARCH.md（规则/竞品/工具/社区经验） |
| Phase 1: 方案 | ✅ 完成 | ARCHITECTURE.md + README + PRD |
| Phase 2: 开发 | ⬜ 即将开始 | Move 合约 + Agent 核心 + TG Bot |
| Phase 3: 测试 | ⬜ | Testnet 测试 |
| Phase 4: 部署 | ⬜ | Mainnet/Testnet 部署 |
| Phase 5: 提交 | ⬜ | DeepSurge 提交 + Demo |

**下一步：Phase 2 开发**（⏰ 截止 2/12 15:00，还剩 ~68 小时）
